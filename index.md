---
layout: default
title: Home
---

<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
        inlineMath: [['$','$']]
        }
    });
</script>

Melody choralization, i.e. generating a four-part chorale based on a user-given melody, has long been closely associated with J.S. Bach chorales. Previous neural network-based systems rarely focus on chorale generation conditioned on a chord progression, and none of them realised controllable melody choralization. To enable neural networks to learn the general principles of counterpoint from Bach's chorales, we first design a music representation that encoded chord symbols for chord conditioning. We then propose DeepChoir, a melody choralization system, which can generate a four-part chorale for a given melody conditioned on a chord progression. Furthermore, with the improved density sampling, a user can control the extent of harmonicity and polyphonicity for the chorale generated by DeepChoir. Experimental results reveal the effectiveness of our data representation and the controllability of DeepChoir over harmonicity and polyphonicity.

<br>
<center><img src="figs/fig1.png" alt="overall_model"></center>
<br>
<center>Figure 1: The overall framework of AutoHarmonizer</center>
<br>

Our goal is to provide a controllable tool that can generate a chorale or more general, contrapuntal music based on a melody with chords. We propose DeepChoir, a chord-conditioned melody choralization system with controllable harmonicity and polyphonicity. Our music representation uses MIDI pitch to encode notes while chords are represented as chromagrams. We further add fermata and beat information to enable the system to understand the distribution of notes more clearly. Furthermore, we improve the density sampling proposed in [AutoHarmonizer](https://arxiv.org/abs/2112.11122) to achieve controllable harmonicity and polyphonicity in the melody choralization task. With controllable harmonicity, users can intuitively guide the system on how strictly to follow the given chord conditions. On the other hand, as independence in rhythm is a crucial feature of contrapuntal music, with controllable polyphonicity, even systems like DeepChoir that trained on JSB Chorales can generate homophonic music if users prefer it to polyphonic music. 

For more information, see our paper: [arXiv paper](https://arxiv.org/abs/2112.11122).  
